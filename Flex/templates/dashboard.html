{% extends "base.html" %}
{% block content %}


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
<!-- The script to fetch data and update the chart -->
<script src="{{ url_for('static', filename='script.js') }}"></script>

<div class="dashboard-container">
  {% if current_user.is_authenticated %}
    <h2>Live Workout Feedback</h2>

    <!-- Possibly keep textual data for ROM & Swinging -->
    <div class="feedback-box" id="live-feed">
      <p id="rom">Range of Motion: --</p>
      <p id="swing">Swinging: --</p>
    </div>

    <!-- NEW: A TUT chart canvas -->
    <div class="feedback-box">
      <h3>Time Under Tension (s)</h3>
      <canvas id="tutChart" width="600" height="300"></canvas>
    </div>
  {% else %}
    <div class="please-login-message">
      <h2>Welcome to FLEX</h2>
      <p>You must be logged in to view live feedback.</p>
      <a href="{{ url_for('login') }}" class="login-btn">Log In Now</a>
    </div>
  {% endif %}
</div>
{% endblock %}
